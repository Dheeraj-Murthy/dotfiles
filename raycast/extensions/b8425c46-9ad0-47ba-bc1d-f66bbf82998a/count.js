"use strict";var h=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var y=(t,e)=>{for(var n in e)h(t,n,{get:e[n],enumerable:!0})},A=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of S(e))!T.call(t,a)&&a!==n&&h(t,a,{get:()=>e[a],enumerable:!(r=w(e,a))||r.enumerable});return t};var k=t=>A(h({},"__esModule",{value:!0}),t);var I={};y(I,{default:()=>C});module.exports=k(I);var s=require("@raycast/api"),l=require("react");var p=t=>{let e=[],n=0,r=t.length;for(;n<r;){let a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){let u=t.charCodeAt(n++);(u&64512)==56320?e.push(((a&1023)<<10)+(u&1023)+65536):(e.push(a),n--)}else e.push(a)}return e},F=t=>t>=19968&&t<=40959||t>=12352&&t<=12543||t>=44032&&t<=55215?!0:t>=13312&&t<=19903||t>=63744&&t<=64255||t>=131072&&t<=173791||t>=173824&&t<=177983||t>=177984&&t<=178207||t>=178208&&t<=183983||t>=183984&&t<=191471,$=t=>t>=12288&&t<=12351||t>=65281&&t<=65295||t>=65306&&t<=65312||t>=65339&&t<=65344||t>=65371&&t<=65381||t>=65072&&t<=65103,g=(t,e)=>{let n=t.trim(),r=0;if(n){let u=n.replace(/['";:,.?¿\-!¡]+/g,"").split(/\s+/);for(let x of u){if(!x)continue;let o=0,i=0;for(;i<x.length;){let m=x.charCodeAt(i);if($(m)){i>o&&r++,o=i+1,i++;continue}F(m)&&(i>o&&r++,r++,o=i+1),i++}o<x.length&&r++}}return{paragraphs:n?(n.match(/\n+/g)||[]).length+1:0,sentences:n?(n.match(/[.?!…]+./g)||[]).length+1:0,words:r,reading_time:Math.ceil(r/275),speaking_time:Math.ceil(r/180),characters:e?p(t).length:n?p(n.replace(/\s/g,"")).length:0}};var f=require("@raycast/api");async function b(t=!0){let e=await f.Clipboard.readText();return e?(t&&(0,f.showToast)({style:f.Toast.Style.Success,title:"Text loaded from clipboard",message:"[\u2318 + E] to reset"}),e.trim()):""}async function d(t=!0){try{let e=await(0,f.getSelectedText)();if(e)return t&&(0,f.showToast)({style:f.Toast.Style.Success,title:"Text loaded from selected text",message:"[\u2318 + E] to reset"}),e.trim()}catch{}return""}var c=require("react/jsx-runtime");function C(){let[t,e]=(0,l.useState)(""),[n,r]=(0,l.useState)(!0),[a,u]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{let o=await d();o||(o=await b()),e(o)})()},[]),(0,l.useEffect)(()=>{let o=g(t,n),i=`${o.characters} characters \xB7 ${o.words} words 
${o.sentences} sentences \xB7 ${o.paragraphs} paragraphs 
${o.reading_time} minutes to read \xB7 ${o.speaking_time} minutes to speak`;u(i)},[t,n]);let x=(0,c.jsxs)(s.ActionPanel,{children:[(0,c.jsx)(s.Action,{title:"Toggle Whitespace",onAction:()=>r(!n),shortcut:{modifiers:["cmd"],key:"t"},icon:s.Icon.Switch}),(0,c.jsx)(s.Action,{title:"Clear Text",onAction:()=>e(""),shortcut:{modifiers:["cmd"],key:"e"},icon:s.Icon.Trash})]});return(0,c.jsxs)(s.Form,{actions:x,children:[(0,c.jsx)(s.Form.Description,{text:a}),(0,c.jsx)(s.Form.TextArea,{id:"text",title:"Text to Count",placeholder:"Start typing...",value:t,onChange:e}),(0,c.jsx)(s.Form.Checkbox,{id:"include-whitespace",title:"Options",label:"Include whitespace in character count",value:n,onChange:r})]})}
/**
 * Modified from implementation in @RadLikeWhoa/Countable
 * @source https://github.com/RadLikeWhoa/Countable
 * @license MIT
 */
